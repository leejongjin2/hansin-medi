<!DOCTYPE html>
test
<html lang="kr">
    <head>
        <meta charset="UTF-8" />
        <title>OK AI CHECK</title>
        <link rel="stylesheet" href="css/a4_03.css" />
        <a class="disableClick" href="src/">
            <script src="js/OK_AI_CHECK_03.js"></script>
        </a>
    </head>
    <body>
        <div class="page">
            <header>
                <div class="base">
                    <div class="inner">
                        <section id="headerInfoSpace">
                            <div id="headerLogo">
                                <a class="disableClick" href="src/">
                                    <img
                                        src="img/ok.png"
                                        style="height: 20px"
                                    />
                                </a>
                                <p
                                    style="
                                        padding: 0 0 3px 0;
                                        font-weight: bold;
                                    "
                                >
                                    AI CHECK
                                </p>
                            </div>
                            <div id="headerTitle">OK AI CHECK</div>
                            서울대 기술지주회사와 서울대 AI전공 교수들이
                            참여하여 함께 설계한 AI질병예측 지표
                        </section>
                        <section id="userInfoSpace">
                            <div class="userInfoItem">
                                <a class="disableClick" href="src/">
                                    <script
                                        src="json/user_info.json"
                                        type="text/javascript"
                                    ></script>
                                    <script>
                                        setData();
                                    </script>
                                </a>
                                <div class="index">이름</div>
                                <div class="value">
                                    <script>
                                        document.write(getUserName());
                                    </script>
                                </div>
                            </div>
                            <div class="userInfoItem">
                                <div class="index">성별</div>
                                <div class="value">
                                    <script>
                                        document.write(getGender());
                                    </script>
                                </div>
                            </div>
                            <div class="userInfoItem">
                                <div class="index">나이</div>
                                <div class="value">
                                    <script>
                                        document.write(getAge() + "세");
                                    </script>
                                </div>
                            </div>
                            <div class="userInfoItem">
                                <div class="index">측정일</div>
                                <div class="value">
                                    <script>
                                        document.write(getExaminationDate());
                                    </script>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </header>

            <main>
                <div class="inner">
                    <section id="mainSpace">
                        <div id="mainTitle">content</div>
                        <div class="miniTitle">- 분석내용 종합</div>
                        <div class="miniTitle">- 암 위험도 분석</div>
                        <div class="content">
                            · 간암 위험도 분석 <br />
                            · 위암 위험도 분석 <br />
                            · 폐암 위험도 분석 <br />
                            · 대장암 위험도 분석 <br />
                            · 갑상선암 위험도 분석 <br />
                            · 유방암 위험도 분석
                        </div>
                        <div class="miniTitle">- 만성질환 위험도 분석</div>
                        <div class="content">
                            · 뇌졸증 위험도 분석<br />
                            · 심근경색 위험도 분석<br />
                            · 당뇨병 위험도 분석<br />
                            · 폐결핵 위험도 분석<br />
                            · 고혈압 위험도 분석<br />
                            · 고지혈증 위험도 분석<br />
                            · 지방간 위험도 분석<br />
                            · 단백뇨 위험도 분석
                        </div>
                    </section>
                </div>
            </main>

            <footer>
                <div class="inner">
                    <section id="desc">
                        본 분석은 서울대학교 AI개발 공식 자회사인 SNUilab 과
                        공동 연구 설계한 AI질병예측 프로그램입니다. 방대한
                        데이터를 학습한 인공지능이 고객님의 건강검진 결과를
                        기반으로 암질환과 만성질환에 대한 발병 위험도를 분석하여
                        예측하게 됩니다. 다만 실제 위험도는 고객님의 생활습관,
                        식습관, 환경요인 등 데이터에 잡히지 않는 다양한 요인에
                        따라 달라질 수 있습니다. OK AI CHECK는 의료행위가
                        아니므로, 자세한 사항은 반드시 의사 선생님과 상담이
                        필요합니다.
                    </section>
                </div>
                <div class="base">
                    <div class="inner"></div>
                </div>
            </footer>
        </div>
    </body>

    <script type="text/javascript">
        // 웹 서버를 접속한다.
        var webSocket = new WebSocket("ws://localhost:8899");
        // 소켓 접속이 되면 호출되는 함수
        webSocket.onopen = function (message) {
            console.log("Server connect...");
            webSocket.send("request JsonData");
        };
        // 소켓 접속이 끝나면 호출되는 함수
        webSocket.onclose = function (message) {
            console.log("Server disconnect...");
        };
        // 소켓 통신 중에 에러가 발생되면 호출되는 함수
        webSocket.onerror = function (message) {
            console.error("error...\n");
        };
        // 소켓 서버로 부터 메시지가 오면 호출되는 함수.
        webSocket.onmessage = function (message) {
            console.log("Recieve From Server => " + message.data + "\n");
            alert("Recieve From Server => " + message.data + "\n");

            //window.print();
            addEventListener("afterprint", (event) => {});
            onafterprint = (event) => {};
            window.onafterprint = (event) => {
              console.log(event)
                window.open("", "_self", ""); //window.browser가 자식 브라우저만 닫을 수있어서 편법으로 자기를 열고 자기를 닫도록함.

                window.close();

            };
            window.print()
        };
    </script>
</html>
